#!/usr/bin/expect -f

set timeout 5

# Start the TUI application
spawn stack exec terminal-config-manager

# Wait for the application to display its interface
expect {
    timeout {
        puts "ERROR: Application failed to start within timeout"
        exit 1
    }
    "quit" {
        # Application is ready when help text appears
    }
}

# Quit the application
send "q"

# Wait for application to exit
expect {
    timeout {
        puts "ERROR: Application did not exit within timeout"
        exit 1
    }
    eof {
        puts "âœ“ SUCCESS: Application started and exited cleanly"
        exit 0
    }
} 